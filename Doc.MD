# Interview with AI

## Module 1

### Submodule 1.1: Basic CRUD Operations

**Goal:**
Provide basic CRUD operations to the application, allowing users to sign in and sign up.

**Summary:**
Users can authenticate using email and password credentials.

For the initial development phase, we are using a locally installed MongoDB instance to simplify setup and accelerate learning. After building sufficient expertise in Docker and MongoDB, we plan to transition to a containerized MongoDB setup. This will align our development environment with production standards and streamline future deployment to AWS.

Folder Structure ( Module 1.1 )

```
Interview_with_Ai/
â”‚
â”œâ”€â”€ venv/
â”œâ”€â”€ requirements.txt
â”œâ”€â”€ .gitignore.py
â”œâ”€â”€ .env
â”‚
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ main.py
â”‚   â”œâ”€â”€ database.py
|   â”œâ”€â”€ config.py
â”‚   â”‚
â”‚   â”œâ”€â”€ models/
â”‚   â”‚   â””â”€â”€ user_model.py
â”‚   â”‚
â”‚   â”œâ”€â”€ schemas/
â”‚   â”‚   â””â”€â”€ user_schema.py
â”‚   â”‚
â”‚   â”œâ”€â”€ routes/
â”‚   â”‚   â””â”€â”€ auth_routes.py
â”‚   â”‚
â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â””â”€â”€ auth_service.py
â”‚   â”‚
â”‚   â””â”€â”€ utils/
â”‚       â””â”€â”€ hash_utils.py
â”‚
â””â”€â”€ README.md
```

| File/Folder | Purpose |
|---|---|
| `__init__.py` | It tells Python "This folder is a package. You can import from here." Without it â†’ imports may fail.|
| `main.py` |The entry point of FastAPI , includes routes etc.. |
| `database.py` | Used to connect to MongoDB, create database object (client etc..) |
| `models/` |  This represents how data is being stored in the DB  |
| `schemas/` | These are pydantic models ( Pydantic is a Python library used for Data validation ,Data parsing , Type enforcement ). Used for validating request and response body. |
| `routes/` | Contains API endpoints , receiving request , calling services  |
| `services/` | Contains bussiness logics like Check if email exists , Hash password , Insert user in DB , Verify password |
| `utils/` | Helper functions like hashpassword() , verify_password() etc..|

## ðŸ“˜ SubModule 1.1 â€“ User Signup & Signin (Documentation)

### Overview

When a user enters their email and password, the request flows through multiple backend layers following a clean architecture pattern.

### Request Flow Architecture

```
Client Request
    â†“
main.py
    â†“
auth_routes.py
    â†“
auth_service.py
    â†“
hash_utils.py (if needed)
    â†“
database.py (MongoDB)
    â†“
Response back to client
```

### Component Responsibilities

#### 1. main.py
- Creates FastAPI application instance
- Includes authentication router: `app.include_router(auth_router)`
- Acts as the entry point of the backend application

#### 2. routes/auth_routes.py
- Defines API endpoints: `POST /auth/signup`, `POST /auth/signin`
- Receives validated request body from Pydantic schemas
- Calls corresponding service functions: `create_user()`, `authenticate_user()`
- Returns structured response
- Handles routing only â€” no business logic

#### 3. schemas/user_schema.py
- Defines Pydantic models for signup/signin requests and responses
- Validates email format and minimum password length
- Automatically generates Swagger documentation

#### 4. services/auth_service.py
- **create_user()**: Checks if email exists, hashes password, inserts into MongoDB
- **authenticate_user()**: Fetches user by email, verifies password with bcrypt, returns success or error
- Contains core authentication logic

#### 5. utils/hash_utils.py
- **hash_password()**: Converts plain password into bcrypt hash
- **verify_password()**: Compares input password with stored hash
- Ensures passwords are never stored in plain text

#### 6. database.py
- Establishes MongoDB connection
- Creates database `interview_with_ai` and collection `users`
- Centralizes database access

#### 7. config.py
- Loads environment variables from `.env`
- Centralizes configuration: MongoDB URL, database name, secret key, algorithm, token expiry
- Ensures environment-independent architecture
-------------------------------------------------------------------------------------------------------------------